<!DOCTYPE html>
<html>
    <title>Graphs Woodie</title>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <head>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
        <script src={{ url_for('static', filename='plotly-latest.min.js') }}></script>
    </head>
    <body>
        <header>
            <h1><a href="{{ url_for('index') }}">WOODIE</a></h1>
        </header>
        <title>WOODIE</title>
        <h2>GRAPHS WOODIE</h2>
        <h3>TEMPERATURE & RELAIS</h3>
        <div id='Fonctionnement' ></div>
        <h3>CAPTEURS ROTATION & SONDE K</h3>
        <div id='Analyse' ></div>
    </body>
    <script>
        data = [
            {
                x: {{ data_x|safe }},
                y: {{ data_y_te|safe }},
                name: 'Temperature eau',
                yaxis: 'y1',
                offset: '100',
                type: 'scatter',
                line: {
                    shape: 'hvh'
                }

            },
            {
                x: {{ data_x|safe }},
                y: {{ data_y_t2|safe }},
                name: 'Temperature 2',
                yaxis: 'y1',
                type: 'scatter',
                line: {
                    shape: 'hvh'
                }
            },
            {
                x: {{ data_x|safe }},
                y: {{ data_y_rV|safe }},
                name: 'Ventilateur',
                yaxis: 'y2',
                type: 'scatter',
                line: {
                    shape: 'hvh'
                }
            },
            {
                x: {{ data_x|safe }},
                y: {{ data_y_rM|safe }},
                name: 'Moteur',
                yaxis: 'y2',
                type: 'scatter',
                line: {
                    shape: 'hvh'
                }

            },
            {
                x: {{ data_x|safe }},
                y: {{ data_y_rI|safe }},
                name: 'Inversion moteur',
                yaxis: 'y2',
                type: 'scatter',
                line: {
                    shape: 'hvh'
                }

            }

        ];
        var layout = {
            xaxis: {
                title: '{{log_file}}',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 18,
                    color: 'black'
                },
                showticklabels: false,
                tickangle: 70,
                tickfont: {
                    family: 'Old Standard TT, serif',
                    size: 11,
                    color: 'black'
                }
            },
            yaxis: {
                title: 'TEMPERATURES',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 18,
                    color: 'black'
                },
                showticklabels: true,
                tickfont: {
                    family: 'Old Standard TT, serif',
                    size: 14,
                    color: 'black'
                },
                rangemode: 'tozero'
            },
            yaxis2: {
                title: 'RELAIS',
                side: 'right',
                overlaying: 'y',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 18,
                    color: 'black'
                },
                showticklabels: true,
                tickfont: {
                    family: 'Old Standard TT, serif',
                    size: 14,
                    color: 'black'
                },
                range: [0, 4],
                autorange: false
            }
        };
        Plotly.plot('Fonctionnement', data, layout);

        data2 = [
            {
                x: {{ data_x|safe }},
                y: {{ data2_y_c1|safe }},
                name: 'Capteur moteur',
                yaxis: 'y1',
                offset: '100',
                type: 'scatter',
                line: {
                    shape: 'hvh'
                }

            },
            {
                x: {{ data_x|safe }},
                y: {{ data2_y_c2|safe }},
                name: 'Capteur tremie',
                yaxis: 'y1',
                type: 'scatter',
                line: {
                    shape: 'hvh'
                }
            },
            {
                x: {{ data_x|safe }},
                y: {{ data2_y_k|safe }},
                name: 'Sonde K',
                yaxis: 'y2',
                type: 'scatter',
                line: {
                    shape: 'hvh'
                }

            }
        ];
        var layout2 = {
            xaxis: {
                title: '{{log_file}}',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 18,
                    color: 'black'
                },
                showticklabels: false,
                tickangle: 70,
                tickfont: {
                    family: 'Old Standard TT, serif',
                    size: 11,
                    color: 'black'
                }
            },
            yaxis: {
                title: 'IMPULSIONS / 0.5 S',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 18,
                    color: 'black'
                },
                showticklabels: true,
                tickfont: {
                    family: 'Old Standard TT, serif',
                    size: 14,
                    color: 'black'
                }
            },
            yaxis2: {
                title: 'TEMPERATURE',
                side: 'right',
                overlaying: 'y',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 18,
                    color: 'black'
                },
                showticklabels: true,
                tickfont: {
                    family: 'Old Standard TT, serif',
                    size: 14,
                    color: 'black'
                },
            }
        };
        Plotly.plot('Analyse', data2, layout2);
    </script>
</html>

